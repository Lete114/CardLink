!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).cardLinkParse=t()}(this,(function(){"use strict";return function(e,t){var i,n={title:"",link:t,icon:""};try{var o=(new DOMParser).parseFromString(e,"text/html");if(n.title=o.querySelector("title"),n.title){if(n.title=n.title.textContent,n.icon=o.querySelector("body img"),n.icon=n.icon&&n.icon.getAttribute("src"),/^data:image/.test(n.icon)&&(n.icon=""),!n.icon){var r=[].slice.call(o.querySelectorAll("link[rel][href]"));n.icon=r.find((function(e){return e.rel.includes("icon")})),n.icon=n.icon&&n.icon.getAttribute("href")}n.icon&&(i=n.icon,!/^(https?:)?\/\//g.test(i))&&(n.icon=new URL(t).origin+n.icon)}}catch(e){console.warn("CardLink Error: Failed to parse",e)}return n}}));
